import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CodeDropdown, { CodeOption } from '@site/src/components/CodeDropdown';

### Get Customer PLD Finance Details

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/fa/customer/\{customerOwId\}/pld-fees</span>

<div class="container">
  <div class="child1">

Get finance details for a Customer's Provider Level Data (PLD).

Read more about PLD in our [Insights API](/Guidelines/Insights-API-Guidelines/#overview) or our Help Center articles: [Provider Level Data (PLD) Insights Reports](https://help.iqm.com/en/collections/12010878-provider-level-data-pld-insights-reports).



| Path Parameters | |
| ---- | --- |
| `customerOwId` <br /><span class="type-text">integer</span> | Customer Organization Workspace ID |

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
<summary style={{fontSize: "16px"}}>Response Properties</summary>

<table className="objectProperties">
<tr>
<td>`id` <br /><span class="type-text">integer</span></td>
<td>Customer ID</td>
</tr>
<tr>
  <td>`owId` <br /><span class="type-text">integer</span></td>
  <td>Organization Workspace ID</td>
</tr>
<tr>
  <td>`pldRate` <br /><span class="type-text">integer</span></td>
  <td>PLD rate for workspace Customer </td>
</tr>
<tr>
  <td>`pldEnabled` <br /><span class="type-text">boolean</span></td>
  <td>Boolean flag to enable and disable PLD feature for Advertiser Customer</td>
</tr>
<tr>
  <td>`pldMarkupType` <br /><span class="type-text">string</span></td>
  <td>PLD markup type: "Absolute" or "Percentage"</td>
</tr>
<tr>
  <td>`pldMarkupTypeId` <br /><span class="type-text">integer</span></td>
  <td>PLD markup type ID: "Absolute" or "Percentage"</td>
</tr>
<tr>
  <td>`pldMarkupValue` <br /><span class="type-text">integer</span></td>
  <td>PLD markup value for Advertiser Customer</td>
</tr>
</table>

</details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

<CodeDropdown value="Response Examples" label="Response">
<CodeOption value="PLD Details" label="PLD Details" default>

```json title="Response 200"
{
    "success": true,
    "data": {
        "id": 1,
        "pldRate": 3
    }
}
```

</CodeOption>
<CodeOption value="PLD Flag Enabled" label="PLD Flag Enabled">

```json title="Response 200"
{
    "success": true,
    "data": {
        "id": 3,
        "owId": 201427,
        "pldRate": 3,
        "pldEnabled": true,
        "pldMarkupType": "Percentage",
        "pldMarkupValue": 10
    }
}
```
</CodeOption>
<CodeOption value="PLD Flag Disabled" label="PLD Flag Disabled">

```json title="Response 200"
{
  "success": true,
  "data": {
    "pldRate": 3,
    "pldEnabled": false
  }
}
```
</CodeOption>
</CodeDropdown>


</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          vldRate: number;
        }
      }
    };
  };
}

function getPLDFees(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/fa/customer/{customerOwId}/pld-fees',
    params: {
      path: {
        customerowId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update Customer PLD Details

<span class="badge badge--info">PATCH</span> <span class="path-text">/api/v3/fa/customer/pld-fees</span>

<div class="container">
  <div class="child1">

Update a Customer's PLD details.

| Request Schema |  |
| ---- | --- |
| `id`<br /><span class="type-text">integer</span> | ID |
| `owId` <br /><span class="type-text">integer</span> <span class="required-text">required</span> | OW ID of the Customer to update details |
| `pldRate` <br /><span class="type-text">integer</span> | PLD rate for workspace Customer |
| `pldEnabled` <br /><span class="type-text">boolean</span> | Boolean flag to enable and disable PLD feature for Advertiser Customer |
| `pldMarkupTypeId` <br /><span class="type-text">integer</span> | PLD markup type ID to represent markup types: Absolute or Percentage |
| `pldMarkupValue` <br /><span class="type-text">integer</span> | PLD markup value for Advertiser Customer: "Absolute" or "Percentage" |

 <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`id` <br /><span class="type-text">integer</span></td>
    <td>ID</td>
    </tr>
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "id": 0,
    "owId": 0,
    "pldRate": 0,
    "pldEnabled": true,
    "pldMarkupType": "string",
    "pldMarkupTypeId": 0,
    "pldMarkupValue": 9999
}
```

```json title="Response 200"
{
    "success": true,
    "data": {
        "id": 1,
        "message": "PLD Rate updated successfully. The new rate applies only to newly created VLDs"
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        id: number;
        owId: number;
        pldRate: number;
        pldEnabled: boolean;
        pldMarkupType: string;
        pldMarkupTypeId: number;
        pldMarkupValue: number;
      }
    };
  };
}

function editPLDFees(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://api.iqm.com/api/v3/fa/customer/pld-fees',
    requestBody: {
      content: {
        "application/json": {
          id?: `number`,
          owId: `number`,
          pldRate?: `number`,
          pldEnabled?: `boolean`,
          pldMarkupType?: `string`,
          pldMarkupTypeId?: `number`,
          pldMarkupValue?: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>